# Gunakan PHP FPM resmi
FROM php:8.4-fpm

# Install dependencies untuk GD dan PHP extensions
RUN apt-get update && apt-get install -y \
    libpng-dev \
    libjpeg-dev \
    libwebp-dev \
    zlib1g-dev \
    && rm -rf /var/lib/apt/lists/*

# ... bagian awal Dockerfile Anda

# Perintah ini adalah standar jika Anda menggunakan image resmi PHP
RUN docker-php-ext-configure gd --with-jpeg --with-webp \
    && docker-php-ext-install -j$(nproc) gd

# ... perintah selanjutnya (COPY, WORKDIR, RUN composer install)
# Pastikan `composer install` dijalankan setelah ekstensi terinstal.
RUN composer install --optimize-autoloader --no-scripts --no-interaction
# ...
